{% extends 'plaid_tester/base.html' %}

{% load staticfiles %}

{% block header %}
    <!--<link href="{% static 'index.css' %}" rel="stylesheet">-->

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

{% endblock header %}

{% block content %}
    <h3>{{ username }}</h3>
    <h3>Accounts</h3>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>institution</th>
            <th>subtype</th>
            <th>account number (last 4)</th>
            <th>name</th>
            <th>current balance</th>
            <th>available balance</th>
            <th>limit</th>
        </tr>
        </thead>
        <tbody>
        {% if accounts %}
            {% for a in accounts %}
            <tr>
                <td>{{ a.institution_type }}</td>
                <td>{{ a.subtype }}</td>
                <td>{{ a.meta.number }}</td>
                <td>{{ a.meta.name }}</td>
                <td>{{ a.balance.current }}</td>
                <td>{{ a.balance.available }}</td>
                <td>{{ a.meta.limit }}</td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td>No Accounts</td>
            </tr>
        {% endif %}
        </tbody>
    </table>

    <h3>Transactions</h3>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>date</th>
            <th>name</th>
            <th>amount</th>
            <th>category</th>
            <th>type</th>
            <th>pending</th>
        </tr>
        </thead>
        <tbody>
        {% if transactions %}
            {% for t in transactions %}
            <tr>
                <td>{{ t.date }}</td>
                <td>{{ t.name }}</td>
                <td>{{ t.amount }}</td>
                <td>{{ t.category }}</td>
                <td>{{ t.type }}</td>
                <td>{{ t.pending }}</td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td>No Transactions</td>
            </tr>
        {% endif %}
        </tbody>
    </table>

{% endblock content %}